[colors]
background-inactive = #171717
background-active = #171717
foreground = #ffffff
foreground-active = #ffffff
foreground-inactive = #4Dffffff
foreground-urgent = #ff1b1bff

[module/tray]
type = internal/tray
tray-spacing = 12px

[module/tray-toggle]
type = custom/ipc
hook-0 = if pgrep -x "stalonetray" > /dev/null; then echo ""; else echo ""; fi
initial = 1
click-left = ~/.config/polybar/toggle-tray.sh
cursor-click = pointer

[bar/main]
monitor = DP-0
bottom = true
width = 100%
height = 34
background = ${colors.background-inactive}
foreground = ${colors.foreground}
padding-left = 1
padding-right = 3
module-margin = 2

modules-left = i3
modules-right = xkeyboard cpu memory gpu network pulseaudio time

# used for text
font-0 = Noto Sans Regular:style=Bold:size=11;3
# used for general icon sizing
font-1 = JetBrainsMono Nerd Font Mono:style=Regular:size=21;6
# used for GPU icon sizing
font-2 = JetBrainsMono Nerd Font Mono:style=Regular:size=25;7
# Used for Calendar icon sizing
font-3 = JetBrainsMono Nerd Font Mono:style=Regular:size=17;4
# used for circle icon sizing
font-4 = JetBrainsMono Nerd Font Mono:style=Regular:size=18;4
# used for inactive window icon indicator (for other monitor)
font-5 = Symbola:size=16;4
# used for volume  icon
font-6 = Font Awesome 6 Pro:style=Solid:size=12;4
# used for Workspace number indicators
font-7 = Segoe UI:style=Bold:size=11;3

[bar/secondary]
inherit = bar/main
monitor = HDMI-0
enable-ipc = true
bottom = true
tray-position = none
padding-left = 1
padding-right = 2
modules-right = tray-toggle xkeyboard pulseaudio date

[module/i3]
type = internal/i3
pin-workspaces = true
format = <label-state>

; Enable clicking on workspaces
enable-click = true
enable-scroll = false

ws-icon-0 = 1;1
ws-icon-1 = 2;2
ws-icon-2 = 3;3
ws-icon-3 = 4;4
ws-icon-4 = 5;S

ws-icon-default = %name%

#; Active workspace - show number with highlight
label-focused = %{T8}%name%%{T-}%{O2}
label-focused-foreground = ${colors.foreground-active}
label-focused-background = ${colors.background}
label-focused-padding = 1

#; Visible on another monitor - show number dimmed
label-visible = %{T8}%name%%{T-}%{O2}
label-visible-foreground = ${colors.foreground-inactive}
label-visible-background = ${colors.background-inactive}
label-visible-padding = 1

#; Inactive workspace - show number dimmed
label-unfocused = %{T8}%name%%{T-}%{O2}
label-unfocused-foreground = ${colors.foreground-inactive}
label-unfocused-background = ${colors.background-inactive}
label-unfocused-padding = 1

#; Urgent - show number highlighted
label-urgent = %{T8}%name%%{T-}%{O2}
label-urgent-foreground = ${colors.foreground-urgent}
label-urgent-background = ${colors.background}
label-urgent-padding = 1

[module/xkeyboard]
type = internal/xkeyboard
blacklist-0 = num lock 
blacklist-1 = caps lock
label-layout = 󰌓  %icon%  
label-layout-foreground = ${colors.foreground}
layout-icon-0 = us;US
layout-icon-1 = rs;RS

[module/cpu]
type = internal/cpu
interval = 2
format = <label>
label =  %percentage%%

[module/memory]
type = internal/memory
interval = 2
format = <label>
label =   %percentage_used%%

[module/gpu]
type = custom/script
exec = nvidia-smi --query-gpu=utilization.gpu --format=csv,noheader,nounits 2>/dev/null || echo "N/A"
interval = 2
label = %{T3}󰢮%{T0}  %output%%

[module/pulseaudio]
type = internal/pulseaudio
use-ui-max = false
format-volume = <label-volume>
label-volume =   %percentage%%

[module/network]
type = custom/script
exec = ~/.config/polybar/network.sh
interval = 1
label = %output%

[module/time]
type = internal/date
interval = 1
time = %H:%M
label = %time%

[module/date]
type = internal/date
interval = 60
date = %d/%m/%y
label = %{T4}󰸗%{T0}  %date%